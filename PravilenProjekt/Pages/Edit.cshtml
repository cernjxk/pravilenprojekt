@page
@model PravilenProjekt.Pages.EditModel
@{
    ViewData["Title"] = "Uredi igro";
}

<div class="container py-4">
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0">✏️ Uredi igro</h3>
                </div>
                <div class="card-body">
                    <form method="post">
                        <input type="hidden" asp-for="Game.Id" />

                        <div class="mb-3">
                            <label asp-for="Game.Title" class="form-label fw-bold">Naslov igre</label>
                            <input asp-for="Game.Title" class="form-control" placeholder="Vnesite naslov" required />
                            <span asp-validation-for="Game.Title" class="text-danger"></span>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label asp-for="Game.Genre" class="form-label fw-bold">Žanr</label>
                                <select asp-for="Game.Genre" class="form-select" required>
                                    <option value="">Izberite žanr</option>
                                    <option value="Akcija">Akcija</option>
                                    <option value="Akcijska avantura">Akcijska avantura</option>
                                    <option value="RPG">RPG</option>
                                    <option value="Sandbox">Sandbox</option>
                                    <option value="Battle Royale">Battle Royale</option>
                                    <option value="Šport">Šport</option>
                                    <option value="Dirke">Dirke</option>
                                    <option value="Simulacija">Simulacija</option>
                                </select>
                                <span asp-validation-for="Game.Genre" class="text-danger"></span>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label asp-for="Game.Platform" class="form-label fw-bold">Platforma</label>
                                <select asp-for="Game.Platform" class="form-select" required>
                                    <option value="">Izberite platformo</option>
                                    <option value="PC">PC</option>
                                    <option value="PlayStation 5">PlayStation 5</option>
                                    <option value="Xbox Series X/S">Xbox Series X/S</option>
                                    <option value="Nintendo Switch">Nintendo Switch</option>
                                    <option value="Multi-platform">Multi-platform</option>
                                </select>
                                <span asp-validation-for="Game.Platform" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label asp-for="Game.Price" class="form-label fw-bold">Cena (€)</label>
                                <input asp-for="Game.Price" type="number" step="0.01" class="form-control" placeholder="0.00" required />
                                <span asp-validation-for="Game.Price" class="text-danger"></span>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label asp-for="Game.ReleaseYear" class="form-label fw-bold">Leto izdaje</label>
                                <input asp-for="Game.ReleaseYear" type="number" class="form-control" placeholder="2024" required />
                                <span asp-validation-for="Game.ReleaseYear" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label asp-for="Game.Rating" class="form-label fw-bold">Ocena (0.0 - 10.0)</label>
                            <input asp-for="Game.Rating" type="number" step="0.1" min="0" max="10" class="form-control" placeholder="0.0" required />
                            <span asp-validation-for="Game.Rating" class="text-danger"></span>
                        </div>

                        <div class="mb-3">
                            <label asp-for="Game.ImageUrl" class="form-label fw-bold">URL slike</label>
                            <input asp-for="Game.ImageUrl" type="url" class="form-control" placeholder="https://example.com/image.jpg" required />
                            <span asp-validation-for="Game.ImageUrl" class="text-danger"></span>
                            <small class="text-muted">Vnesite URL do slike igre</small>
                        </div>

                        @if (!string.IsNullOrEmpty(Model.Game.ImageUrl))
                        {
                            <div class="mb-3">
                                <label class="form-label fw-bold">Predogled slike</label>
                                <div>
                                    <img src="@Model.Game.ImageUrl" alt="Preview" class="img-thumbnail" style="max-width: 300px; max-height: 400px;" />
                                </div>
                            </div>
                        }

                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary">
                                 Shrani spremembe
                            </button>
                            <a asp-page="./Index" class="btn btn-secondary">
                                ❌ Prekliči
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
